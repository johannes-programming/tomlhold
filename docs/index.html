<!DOCTYPE html>
<html lang="en">
    <head>
    </head>
    <body>
        <dl id="top" class="heading0">
            <dt><a>tomlhold</a></dt>
            <dd>
                <dl class="heading1">
                    <dt>Overview</dt>
                    <dd>
                        <p>A dict-like holder for <a href="https://toml.io/">TOML</a> data.</p>
                    </dd>
                    <dt id="install">Installation</dt>
                    <dd id="installCorpus"></dd>
                    <dt>Introduction</dt>
                    <dd>
                        <dl class="heading2">
                            <dt>Example</dt>
                            <dd>
                                <p>Here's a simple example:</p>
                                <pre class="block"><code>import tomlhold

# Example 1: Create Holder from a TOML string
toml_data = """
[database]
server = "192.168.1.1"
ports = [ 8001, 8001, 8002 ]
connection_max = 5000
enabled = true
"""
h = tomlhold.Holder.loads(toml_data)

# Access a single value
print(h["database", "server"])

# Example 2: Access nested values using multiple indices
print(h["database", "ports", 2])

# Example 3: Update a value
h["database", "connection_max"] = 10000
print(h["database", "connection_max"])

# Example 4: Add a new section and key-value pair
h["new_section", "new_key"] = "New Value"
print(h["new_section", "new_key"])

# Example 5: TOML compatibility enforcement (invalid TOML raises an error)
try:
    h["new_section", "invalid_key"] = {"invalid": object()}
except Exception as e:
    print(f"Error: {e}")  # Ensures only TOML-compatible data is allowed

# Example 6: Create Holder from a dictionary and convert it to TOML format
data_dict = {
    "title": "Example",
    "owner": {
        "name": "John Doe",
        "dob": "1979-05-27T07:32:00Z"
    }
}
h = tomlhold.Holder(data_dict)
print(h)

# Example 7: Iterate through Holder object like a regular dictionary
for section, values in h.items():
    print(section, values)

# Output:
    # 192.168.1.1
    # 8002
    # 10000
    # New Value
    # Error: type &lt;class 'object'&gt; is not allowed for values
    # Holder({'title': 'Example', 'owner': {'name': 'John Doe', 'dob': '1979-05-27T07:32:00Z'}})
    # title Example
    # owner {'name': 'John Doe', 'dob': '1979-05-27T07:32:00Z'}</code></pre>
                            </dd>
                        </dl>
                    </dd>
                    <dt>Features</dt>
                    <dd>
                        <dl class="heading4">
                            <dt id="Holder.__new__">
                                class tomlhold.Holder(data: Any = None)
                            </dt>
                            <dd>
                                <p>
                                    <code><a href="#Holder">Holder</a></code> 
                                    is a subclass of <code><a href="https://datahold.johannes-programming.online">datahold</a>.OkayDict</code> 
                                    specifically for handling <a href="https://toml.io/">TOML</a>.
                                    All features that are overwritten are described below.
                                </p>
                                <p> 
                                    Calling the class creates a new instance. 
                                </p>
                                <dl class="heading4">
                                    <dt id="Holder.__delitem__">
                                        __delitem__(keys: tuple | int | str) -&gt; None
                                    </dt>
                                    <dd>
                                        <p>
                                            This magic method deletes a value at the location specified by a sequence of keys.
                                        </p>
                                    </dd>
                                    <dt id="Holder.__getitem__">
                                        __getitem__(keys: tuple | int | str) -&gt; Any
                                    </dt>
                                    <dd>
                                        <p>
                                            This magic method returns a value at the location specified by a sequence of keys.
                                        </p>
                                    </dd>
                                    <dt id="Holder.__setitem__">
                                        __setitem__(keys: tuple | int | str,
                                            value: Any) 
                                            -&gt; None
                                    </dt>
                                    <dd>
                                        <p>
                                            This magic method alters a value at the location specified by a sequence of keys.
                                        </p>
                                    </dd>
                                    <dt id="Holder.dump">
                                        dump(stream: Any, **kwargs: Any) -&gt; None
                                    </dt>
                                    <dd>
                                        <p>
                                            This method dumps the data of the current instance into a byte stream. 
                                            The following two functions are equivalent:
                                        </p>
<pre class="block"><code>from tomlhold import Holder
import tomli_w

stream = open("example.toml", "wb")

def a(holder: Holder, **kwargs) -&gt; None:
    holder.dump(stream, **kwargs)

def b(holder: Holder, **kwargs) -&gt; None:
    tomli_w.dump(holder.data, stream, **kwargs)</code></pre>
                                    </dd>
                                    <dt id="Holder.dumpintofile">
                                        dumpintofile(file: str, **kwargs: Any)
                                            -&gt; None
                                    </dt>
                                    <dd>
                                        <p>
                                            This method dumps the data of the current instance into a file.  
                                            The following two functions are equivalent:
                                        </p>
<pre class="block"><code>from tomlhold import Holder
import tomli_w

def a(holder: Holder, **kwargs) -&gt; None:
    return holder.dumpintofile("example.toml", **kwargs)

def b(holder: Holder, **kwargs) -&gt; None:
    with open("example.toml", "wb") as stream:
        tomli_w.dump(holder.data, stream, **kwargs)</code></pre>
                                    </dd>
                                    <dt id="Holder.dumps">
                                        dumps(**kwargs: Any) -&gt; str
                                    </dt>
                                    <dd>
                                        <p>
                                            This method dumps the data of the current instance into a string. 
                                            The following two functions are equivalent:
                                        </p>
<pre class="block"><code>from tomlhold import Holder
import tomli_w

def a(holder: Holder, **kwargs) -&gt; str:
    return holder.dumps(**kwargs)

def b(holder: Holder, **kwargs) -&gt; str:
    return tomli_w.dumps(holder.data, **kwargs)</code></pre>
                                    </dd>
                                    <dt id="Holder.get">
                                        get(*keys, default = None)
                                            -&gt; Any
                                    </dt>
                                    <dd>
                                        <p>The following two functions are equivalent:</p>
<pre class="block"><code>from tomlhold import Holder

def a(holder: Holder):
    return holder.get("hello", "world", default=42)

def b(holder: Holder):
    try:
        return holder["hello", "world"]
    except KeyError:
        return 42</code></pre>
                                    </dd>
                                    <dt id="Holder.load">
                                        load(stream: Any)
                                            -&gt; Self
                                    </dt>
                                    <dd>
                                        <p>
                                            This classmethod loads data from a byte stream and create a new <code><a href="#Holder">Holder</a></code> instance from it.
                                        </p>
                                    </dd>
                                    <dt id="Holder.loadfromfile">
                                        loadfromfile(file: str)
                                            -&gt; Self
                                    </dt>
                                    <dd>
                                        <p>
                                            This classmethod loads data from a file and create a new <code><a href="#Holder">Holder</a></code> instance from it.
                                        </p>
                                    </dd>
                                    <dt id="Holder.loads">
                                        loads(string: str) -&gt; Self
                                    </dt>
                                    <dd>
                                        <p>
                                            This classmethod loads data from a string and create a new <code><a href="#Holder">Holder</a></code> instance from it.
                                        </p>
                                    </dd>
                                    <dt id="Holder.setdefault">
                                        setdefault(*keys: Any, default: Any = None) -&gt; Any
                                    </dt>
                                    <dd>
                                        <p>The following two functions are equivalent:</p>
<pre class="block"><code>from tomlhold import Holder

def a(holder: Holder):
    return holder.setdefault("hello", "world", default=42)

def b(holder: Holder):
    try:
        return holder["hello", "world"]
    except KeyError:
        holder["hello", "world"] = 42
        return 42</code></pre>
                                    </dd>
                                </dl>
                            </dd>
                        </dl>
                    </dd>
                    <dt id="testing">Testing</dt>
                    <dd id="testingCorpus"></dd>
                    <dt id="license">License</dt>
                    <dd id="licenseCorpus"></dd>
                    <dt id="links">Links</dt>
                    <dd id="linksCorpus"></dd>
                    <dt id="impressum">Impressum</dt>
                    <dd id="impressumCorpus"></dd>
                </dl>
            </dd>
        </dl>
    </body>
    <script src="https://www.johannes-programming.online/script.js"></script>
    <script>
        setupInstallCorpus("tomlhold");
        setupTestingCorpus("tomlhold");
        setupLicenseCorpus("tomlhold");
        setupLinksCorpus("tomlhold");
        setupImpressumCorpus("tomlhold");
        addMetaAndLinkTags();
    </script>
</html>